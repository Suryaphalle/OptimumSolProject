<!-- film_list.html -->
{% extends 'base.html' %}

{% block title %}Movies@Mariana{% endblock %}

{% block content %}
<h1 class="mb-4">Movies@Mariana</h1>
<form method="get" class="form-inline mb-4">
    <div class="form-group mr-2">
        <label for="id_title" class="mr-2">Title</label>
        {{ filter.form.title }}
    </div>
    <div class="form-group mr-2">
        <label for="id_release_date" class="mr-2">Release Year</label>
        {{ filter.form.release_date }}
    </div>
    <div class="form-group mr-2">
        <label for="id_rating" class="mr-2">Rating</label>
        {{ filter.form.rating }}
    </div>
    <div class="form-group mr-2">
        <label for="id_genres" class="mr-2">Genre</label>
        {{ filter.form.genres }}
    </div>
    <button type="submit" class="btn btn-primary">Filter</button>
</form>
<table class="table table-striped">
    <thead class="thead-dark">
        <tr>
            <th>Title</th>
            <th>Release Date</th>
            <th>IMDB Rating</th>
        </tr>
    </thead>
    <tbody>
        {% for film in movie %}
        <tr>
            <td class="d-flex align-items-center">
                {% if film.poster %}
                    <img src="{{ film.poster }}" alt="{{ film.title }}" class="img-thumbnail mr-3" style="max-width: 70px;">
                {% else %}
                    <img src="https://www.prokerala.com/movies/assets/img/no-poster-available.jpg" alt="No Poster" class="img-thumbnail mr-3" style="max-width: 70px;">
                {% endif %}
                <span>{{ film.title }}</span>
            </td>
            <td>{{ film.released }}</td>
            <td>{{ film.imdb_rating }}/10   </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
